{% extends "layouts/form.njk" %}
{% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "../../partials/validatedDateInput.njk" import validatedDateInput %}

{% set pageTitle = t('verify.pageTitle') %}
{% set content = getContent('verify') %}

{% block formIntro %}
  {% if errorMessage %}
    {{ govukNotificationBanner({
      html: '<p class="govuk-body">' + errorMessage + '</p>',
      type: 'error',
      titleId: 'error-title'
    }) }}
  {% endif %}

  <h1 class="govuk-heading-l">{{ content.title }}</h1>
  <p class="govuk-body">{{ content.intro }}</p>
{% endblock %}

{% block formContent %}
  {{ govukInput({
    label: {
      text: content.firstName.label,
      classes: "govuk-label--m"
    },
    classes: "govuk-!-width-two-thirds",
    id: "firstName",
    name: "firstName",
    autocomplete: "given-name",
    errorMessage: validationErrors | findError("firstName"),
    value: formData["firstName"]
  }) }}

  {{ govukInput({
    label: {
      text: content.lastName.label,
      classes: "govuk-label--m"
    },
    classes: "govuk-!-width-two-thirds",
    id: "lastName",
    name: "lastName",
    autocomplete: "family-name",
    errorMessage: validationErrors | findError("lastName"),
    value: formData["lastName"]
  }) }}

  {{ validatedDateInput({
    id: "dob",
    title: {
      text: content.dateOfBirth.label,
      isPageHeading: false,
      classes: "govuk-fieldset__legend--m"
    },
    hintText: content.dateOfBirth.hint,
    validationErrors: validationErrors,
    day: formData["day"],
    month: formData["month"],
    year: formData["year"]
  }) }}
{% endblock %}
